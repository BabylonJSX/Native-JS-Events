var BABYLONX;(function(n){var t=function(){function n(n){var t=this;this._scene=n;this.onNodeAdded=function(n){if(t._generateHtmlElement(n),n instanceof BABYLON.AbstractMesh){var i=n;i.actionManager=i.actionManager||new BABYLON.ActionManager(t._scene);i.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger,function(n){t._triggerMeshEvent(n,"mouseover")}));i.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,function(n){t._triggerMeshEvent(n,"click")}));i.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger,function(n){t._triggerMeshEvent(n,"mouseout")}))}};this.onNodeRemoved=function(n){t._removeHtmlElement(n)};this._triggerMeshEvent=function(n,i){t._triggerJsEvent(i,n,n.source.htmlId)};this._canvasElement=this._scene.getEngine().getRenderingCanvas();this._scene.onNewMeshAdded=this.onNodeAdded;this._scene.onMeshRemoved=this.onNodeRemoved;this._scene.onNewCameraAdded=this.onNodeAdded;this._scene.onCameraRemoved=this.onNodeRemoved;this._scene.onNewLightAdded=this.onNodeAdded;this._scene.onLightRemoved=this.onNodeRemoved}return n.prototype._triggerJsEvent=function(n,t,i){var r=document.createEvent("CustomEvent"),u;r.initCustomEvent(n,!0,!0,t);u=i?document.querySelector("#"+i):this._canvasElement;u.dispatchEvent(r)},n.prototype._generateHtmlElement=function(n){var i=this._getNodeKind(n),r=document.createElement(i),t=i+"-"+n.id,u=0;if(document.getElementById(t)){while(document.getElementById(t+"_"+u++));t=t+"_"+u;BABYLON.Tools.Warn("Extra "+i+" with the same id was added with html id "+t)}n.htmlId=t;r.id=t;this._canvasElement.insertBefore(r,null);this._triggerJsEvent("nodeAdded",{kind:i,originalId:n.id,htmlId:t})},n.prototype._removeHtmlElement=function(n){var r=this._getNodeKind(n),t=n.htmlId,i=document.getElementById(t);i.parentElement.removeChild(i);this._triggerJsEvent("nodeRemoved",{kind:r,id:t})},n.prototype._getNodeKind=function(n){return n instanceof BABYLON.Camera?"camera":n instanceof BABYLON.Light?"light":"mesh"},n}();n.EventsRegister=t})(BABYLONX||(BABYLONX={}));
//# sourceMappingURL=babylonx.nativejsevents.2.1-alpha.min.js.map
